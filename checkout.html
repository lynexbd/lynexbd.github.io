<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Checkout | LYNEX</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .form-select, .form-input {
            width: 100%;
            padding: 12px;
            background-color: #2a2a2a;
            border: 1px solid #444;
            color: #fff;
            border-radius: 4px;
            margin-bottom: 5px; /* Reduced for error msg spacing */
            font-family: 'Montserrat', sans-serif;
        }
        .form-select:disabled { opacity: 0.5; cursor: not-allowed; }
        
        /* Error Message Style */
        .error-msg { 
            color: #e74c3c; 
            font-size: 0.85em; 
            margin-bottom: 15px; 
            display: none; 
            font-weight: 500;
            animation: fadeIn 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

    <header class="header">
        <div class="container">
            <div class="logo">
                <a href="index.html"><span class="logo-lyn">LYN</span><span class="logo-e">E</span><span class="logo-x">X</span></a>
            </div>
            <nav class="nav">
                <ul class="nav-list" id="nav-list">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="products.html">Products</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="feedback.html">Feedback</a></li>
                    <li><a href="cart.html" class="cart-icon"><i class="fas fa-shopping-cart"></i> <span class="cart-count">(0)</span></a></li>
                </ul>
                <div class="menu-toggle" id="menu-toggle"><i class="fas fa-bars"></i></div>
            </nav>
        </div>
    </header>

    <div class="container" style="padding: 100px 20px;">
        <h2 class="section-title">Confirm Your Order</h2>
        
        <div style="display: flex; flex-direction: column; gap: 30px; max-width: 700px; margin: 0 auto;">
            
            <div style="background: #1e1e1e; padding: 30px; border-radius: 8px; border: 1px solid #333;">
                <h3 style="color: #fff; margin-bottom: 20px; text-align: center; border-bottom: 1px solid #333; padding-bottom: 10px;">Order Summary</h3>
                
                <div id="checkout-items-list" style="margin-bottom: 20px; max-height: 300px; overflow-y: auto;">
                    </div>

                <div style="display: flex; justify-content: space-between; margin-bottom: 10px; color: #ccc; border-top: 1px solid #333; padding-top: 15px;">
                    <span>Subtotal:</span>
                    <span>৳ <span id="checkout-subtotal">0</span></span>
                </div>
                
                <div style="display: flex; justify-content: space-between; margin-bottom: 15px; color: #ccc;">
                    <span>Delivery Charge:</span>
                    <span style="color: #ff9f43;">৳ <span id="delivery-charge">0</span></span>
                </div>

                <div style="border-top: 1px solid #444; padding-top: 15px; display: flex; justify-content: space-between; align-items: center;">
                    <span style="color: #fff; font-weight: bold; font-size: 1.2em;">Total:</span>
                    <span style="color: #ff9f43; font-weight: 800; font-size: 1.5em;">৳ <span id="checkout-grand-total">0</span></span>
                </div>
            </div>

            <div style="background: #1e1e1e; padding: 40px; border-radius: 8px; border: 1px solid #333;">
                <h3 style="color: #fff; margin-bottom: 25px; border-bottom: 1px solid #333; padding-bottom: 10px;">Billing Information</h3>
                
                <form id="checkout-form" novalidate>
                    <div style="margin-bottom: 5px;">
                        <label>Full Name</label>
                        <input type="text" id="name" name="name" class="form-input" required placeholder="Enter your full name">
                        <small id="name-error" class="error-msg">Please enter your full name.</small>
                    </div>

                    <div style="margin-bottom: 5px;">
                        <label>Phone Number</label>
                        <input type="number" id="phone" name="phone" class="form-input" required placeholder="Mobile Number (01xxxxxxxxx)">
                        <small id="phone-error" class="error-msg">Valid number required (11 digits, starts with 013-019).</small>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label>Shipping Address</label>
                        
                        <div>
                            <select id="division" class="form-select" required onchange="loadDistricts()">
                                <option value="">Select Division</option>
                            </select>
                            <small id="division-error" class="error-msg">Please select a division.</small>
                        </div>

                        <div>
                            <select id="district" class="form-select" required disabled onchange="loadUpazilas()">
                                <option value="">Select District</option>
                            </select>
                            <small id="district-error" class="error-msg">Please select a district.</small>
                        </div>

                        <div>
                            <select id="upazila" class="form-select" required disabled onchange="calculateTotal()">
                                <option value="">Select Upazila</option>
                            </select>
                            <small id="upazila-error" class="error-msg">Please select an upazila.</small>
                        </div>

                        <div>
                            <input type="text" id="village" class="form-input" required placeholder="Village / Area / House & Road No">
                            <small id="village-error" class="error-msg">Please enter your village or area details.</small>
                        </div>

                        <input type="text" id="landmark" class="form-input" placeholder="Nearby Landmark (Optional)">
                    </div>

                    <div style="margin-bottom: 20px;">
                        <label>Payment Method</label>
                        <select disabled class="form-select" style="opacity: 0.7; cursor: not-allowed;">
                            <option selected>Cash on Delivery (COD)</option>
                        </select>
                    </div>

                    <div style="background: rgba(255, 159, 67, 0.1); padding: 15px; border-left: 4px solid #ff9f43; margin-bottom: 30px; border-radius: 4px;">
                        <p style="color: #ff9f43; font-size: 0.95em; font-weight: 500;">
                            <i class="fas fa-info-circle"></i> নোট: সঠিক ঠিকানা ও ফোন নাম্বার দিন। মুন্সিগঞ্জ সদরে ডেলিভারি চার্জ ৬০ টাকা, এবং অন্যান্য সকল এলাকায় ১২০ টাকা।
                        </p>
                    </div>

                    <button type="submit" class="btn primary-btn" style="width: 100%; padding: 15px; font-size: 1.1em;">CONFIRM ORDER</button>
                </form>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container">
            <h2 class="footer-brand">LYNEX</h2>
            <p class="footer-desc">A glimpse into modern fashion, combining style and comfort for the trendsetters of tomorrow.</p>
            <h3 class="footer-links-title">LINKS</h3>
            <div class="footer-nav">
                <a href="index.html">Home</a>
                <a href="products.html">Products</a>
                <a href="about.html">About Us</a>
                <a href="feedback.html">Feedback</a>
                <a href="delivery.html">Delivery Info</a>
                <a href="terms.html">Terms & Conditions</a>
            </div>
            <div class="social-icons">
                <a href="https://www.facebook.com/lynex.bd" target="_blank"><i class="fab fa-facebook"></i></a>
                <a href="https://wa.me/8801917757634" target="_blank"><i class="fab fa-whatsapp"></i></a>
                <a href="mailto:lynexbd@digdig.org"><i class="fas fa-envelope"></i></a>
            </div>
            <div class="copyright"><p>&copy; 2024 LYNEX. All Rights Reserved.</p></div>
        </div>
    </footer>

    <script type="module" src="script.js"></script>
</body>
</html>
